function getQueryStr(){var e={},a=window.location.search;a=a.substr(1,a.length);var t=a.split("&");return $.each(t,function(a,t){var i=t.split("=");e[i[0]]=i[1]}),e}function invalidCheck(){var e=!0,a="rgba(255,0,0,0.15)";$(".error-text").css("display","none");var t=[$('input[name="first-name"]'),$('input[name="last-name"]'),$('input[name="myouji"]'),$('input[name="namae"]'),$('select[name="pref"]'),$('input[name="phone-number"]'),$('input[name="email"]'),$('input[name="email-confirm"]'),$('select[name="budget"]'),$('input[name="madori[]"]'),$('select[name="width"]'),$('input[name="relation[]"]'),$('input[name="secret-info"]')];if($.each(t,function(t,i){"undefined"!=typeof $(this)&&"checkbox"==$(this).prop("type")?$(this).is(":checked")?($(this).closest(".checkbox").css("background-color","initial"),$(this).closest(".checkbox").css("padding","initial")):($(this).closest(".checkbox").css("background-color",a),$(this).closest(".checkbox").css("padding","2px 4px"),e=!1,"madori[]"==i.prop("name")&&($(".error-text.madori").html(ERROR_NO_INPUT),$(".error-text.madori").css("display","block")),"relation[]"==i.prop("name")&&($(".error-text.relation").html(ERROR_NO_INPUT),$(".error-text.relation").css("display","block")),"secret-info"==i.prop("name")&&($(".error-text.secret-info").html(ERROR_NO_INPUT),$(".error-text.secret-info").css("display","block"))):"undefined"==typeof i.val()||""==i.val()||"null"==i.val()?(i.css("background-color",a),e=!1,"first-name"!=i.prop("name")&&"last-name"!=i.prop("name")||($(".error-text.name").html(ERROR_NO_INPUT),$(".error-text.name").css("display","block")),"myouji"!=i.prop("name")&&"namae"!=i.prop("name")||($(".error-text.phonetic").html(ERROR_NO_INPUT),$(".error-text.phonetic").css("display","block")),"pref"==i.prop("name")&&($(".error-text.address").html(ERROR_NO_INPUT),$(".error-text.address").css("display","block")),"phone-number"==i.prop("name")&&($(".error-text.phone-number").html(ERROR_NO_INPUT),$(".error-text.phone-number").css("display","block")),"email"!=i.prop("name")&&"email-confirm"!=i.prop("name")||($(".error-text.email").html(ERROR_NO_INPUT),$(".error-text.email").css("display","block")),"budget"==i.prop("name")&&($(".error-text.budget").html(ERROR_NO_INPUT),$(".error-text.budget").css("display","block")),"width"==i.prop("name")&&($(".error-text.width").html(ERROR_NO_INPUT),$(".error-text.width").css("display","block"))):i.css("background-color","initial")}),$("#iraijo").is(":checked")||$("#isiryou").is(":checked")?($("#iraijo").closest(".checkbox").css("background-color","initial"),$("#iraijo").closest(".checkbox").css("padding","initial"),$("#isiryou").closest(".checkbox").css("background-color","initial"),$("#isiryou").closest(".checkbox").css("padding","initial")):($("#iraijo").closest(".checkbox").css("background-color",a),$("#iraijo").closest(".checkbox").css("padding","2px 4px"),$("#isiryou").closest(".checkbox").css("background-color",a),$("#isiryou").closest(".checkbox").css("padding","2px 4px"),$(".error-text.type").html(ERROR_NO_INPUT),$(".error-text.type").css("display","block"),e=!1),$("#iraijo").is(":checked")){var i=!0;"undefined"==typeof $('input[name="raijo-date"]').val()||""==$('input[name="raijo-date"]').val()||"null"==$('input[name="raijo-date"]').val()?($('input[name="raijo-date"]').css("background-color",a),i=e=!1):$('input[name="raijo-date"]').css("background-color","initial"),"undefined"==typeof $('select[name="raijo-time"]').val()||""==$('select[name="raijo-time"]').val()||"null"==$('select[name="raijo-time"]').val()?($('select[name="raijo-time"]').css("background-color",a),i=e=!1):$('select[name="raijo-time"]').css("background-color","initial"),i||($(".error-text.raijo-datetime").html(ERROR_NO_INPUT),$(".error-text.raijo-datetime").css("display","block"))}var r=/[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;return console.log(r.test($('input[name="email"]').val())),r.test($('input[name="email"]').val())?$('input[name="email"]').css("background-color","initial"):($('input[name="email"]').css("background-color",a),$('input[name="email-confirm"]').css("background-color",a),e=!1,$(".error-text.email").html(ERROR_MAIL_FORMAT),$(".error-text.email").css("display","block")),$('input[name="email-confirm"]').val()!=$('input[name="email"]').val()?($('input[name="email-confirm"]').css("background-color",a),e=!1,$(".error-text.email").html(ERROR_MAIL_NOTSAME),$(".error-text.email").css("display","block")):$('input[name="email-confirm"]').css("background-color","initial"),e}jQuery(function(e){e(".navbar-toggle").on("click",function(){e(this).toggleClass("active")}),e(".boxmH").matchHeight()}),$(window).scroll(function(){$(this).scrollTop()>100?$(".scroll_to_top").fadeIn():$(".scroll_to_top").fadeOut()}),$(".scroll_to_top").on("click",function(e){e.preventDefault(),$("html, body").animate({scrollTop:0},800)});var ERROR_NO_INPUT="値を入力してください",ERROR_MAIL_FORMAT="メールアドレスの形式が正しくありません",ERROR_MAIL_NOTSAME="電子メールの確認は異なる",queryString=getQueryStr();$(document).ready(function(){var e="undefined"!=typeof queryString.reservation?queryString.reservation:null,a="undefined"!=typeof queryString.material?queryString.material:null;$("#iraijo-date").datepicker({language:"ja",autoclose:!0,todayHighlight:!0,beforeShowDay:function(){}}),$("#iraijo").change(function(){$(this).is(":checked")?($('input[name="raijo"]').val(!0),$(".iraijo-datetime-hidden").fadeIn()):($('input[name="raijo"]').val(!1),$(".iraijo-datetime-hidden").fadeOut(),$("#iraijo-date").val(""),$('select[name="raijo-time"]').val("null"))}),$("#isiryou").on("change",function(){$(this).is(":checked")?$('input[name="siryou"]').val(!0):$('input[name="siryou"]').val(!1)}),"1"==e&&($(".form-title").html("来場予約"),$("#iraijo").prop("checked",!0).trigger("change")),"1"==a&&($(".form-title").html("資料請求"),$("#isiryou").prop("checked",!0).trigger("change")),$(".mt5").click(function(){alert($("#iraijo-date").val()),$('input[name="post"]').keyup()}),$("#goConfirm").click(function(){if(invalidCheck()){$(".table_register").fadeOut(),$(".table_confirm").fadeIn(function(){$("body").scrollTop(0)});var e="";e+="undefined"!=typeof $("#iraijo:checked").val()?$("#iraijo:checked").val()+"  ":"",e+="undefined"!=typeof $("#isiryou:checked").val()?$("#isiryou:checked").val()+"  ":"",$(".cfrm_type").html(e);var a=$('input[name="first-name"]').val()+$('input[name="last-name"]').val();$(".cfrm_name").html(a);var t=$('input[name="myouji"]').val()+$('input[name="namae"]').val();$(".cfrm_phonetic").html(t);var i="";i+="undefined"!=typeof $('input[name="raijo-date"]').val()?$('input[name="raijo-date"]').val()+"  ":"null  ",i+=$('select[name="raijo-time"]').val(),$(".cfrm_raijo_datetime").html(i);var r=$('input[name="ninzuu"]').val();$(".cfrm_peoplenum").html(r);var n=$('input[name="post"]').val()+"<br>"+$('select[name="pref"]').val()+"<br>"+$('input[name="city"]').val()+"<br>"+$('input[name="aza"]').val()+"<br>"+$('input[name="building-roomnumber"]').val();$(".cfrm_address").html(n);var o=$('input[name="phone-number"]').val();$(".cfrm_phonenumber").html(o);var c=$('input[name="email"]').val();$(".cfrm_email").html(c);var l=$('input[name="job-style"]:checked').val()+"<br>"+$('input[name="job-style-desc"]').val();$(".cfrm_occupation").html(l);var s=$('select[name="budget"]').val();$(".cfrm_budget").html(s);var m="";$('input[name="madori[]"]:checked').each(function(){m+=$(this).val()+"<br>"}),$(".cfrm_floorplan").html(m);var u=$('select[name="nensyu"]').val();$(".cfrm_aincome").html(u);var p=$('select[name="shikin"]').val();$(".cfrm_oresources").html(p);var d=$('select[name="width"]').val();$(".cfrm_width").html(d);var h=$('input[name="living-style"]:checked').val();$(".cfrm_livingstyle").html(h);var f=$('input[name="first-impression"]:checked').val()+"<br>"+$('input[name="first-impression-etc"]').val();$(".cfrm_firstimpression").html(f);var v="";$('input[name="relation[]"]:checked').each(function(){v+=$(this).val()+"<br>"}),$(".cfrm_relation").html(v);var b=$('textarea[name="iken"]').val();$(".cfrm_comments").html(b)}else $("body").animate({scrollTop:0},1e3,function(){})}),$("#goBack").click(function(){$(".table_register").fadeIn(function(){$("body").scrollTop(0)}),$(".table_confirm").fadeOut()}),$("#goSubmit").click(function(){invalidCheck()?($('form input[type="text"]').each(function(){""==$(this).val()&&$(this).val("null")}),$("form textarea").each(function(){""==$(this).val()&&$(this).val("null")}),$(".frm_contact").submit()):$("#goBack").click()}),$("#goTest").click(function(){console.log(queryString.reservation)})});
